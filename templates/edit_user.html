{% extends 'base.html'%}
{% block content %}

<div class="edit-user-container">
    <div class="edit-user-form-card">
        <h3><i class="material-icons">edit</i> Edit User</h3>
        <p class="edit-user-subtitle">Update user information</p>
        
        <form action="{{ url_for('update_user', user_id=user._id) }}" method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
            <div class="edit-user-input-field">
                <i class="material-icons prefix">person</i>
                <input id="username" name="username" type="text" value="{{user.username}}"placeholder=" "  required>
                <label for="username">Username</label>
            </div>
            
            <div class="edit-user-input-field">
                <i class="material-icons prefix">email</i>
                <input id="email" name="email" type="email" value="{{user.email}}" required>
                <label for="email">Email</label>
            </div>
            
            <div class="edit-user-input-field">
                <i class="material-icons prefix">assignment_ind</i>
                <select id="role" name="role" required>
                    <option value="user" {% if user.role == 'user' %}selected{% endif %}>User</option>
                    <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Admin</option>
                </select>
                <label for="role">Role</label>
            </div>

            <div class="edit-user-button-group">
                <button class="edit-user-btn waves-effect waves-light" type="submit">
                    Update User
                    <i class="material-icons right">save</i>
                </button>
                <a href="{{ url_for('manage_users') }}" class="edit-user-btn waves-effect waves-light grey">
                    Cancel
                    <i class="material-icons right">cancel</i>
                </a>
            </div>
        </form>
    </div>
</div>

{% endblock %}